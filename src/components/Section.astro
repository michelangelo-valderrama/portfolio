---
import { cn } from "@/lib/utils"

interface Props {
  as: string
  class?: string
  frameColor?: string
  headerForeground?: string
  bodyForeground?: string
  frameThreshold?: number
}

const {
  as: As = "section",
  frameColor,
  headerForeground = "0 0 72",
  bodyForeground = "0 0 72",
  bodyBackground = "0 0 0",
  frameThreshold = 0.5,
  ...props
} = Astro.props
---

<As
  {...props}
  section
  data-frame-color={frameColor}
  data-header-foreground={headerForeground}
  data-body-foreground={bodyForeground}
  data-body-background={bodyBackground}
  data-threshold={frameThreshold}
  class={cn("size-full p-4 overflow-hidden xs:opacity-0 xs:blur-sm", Astro.props.class)}
>
  <slot />
</As>

<style>
  .in-view {
    @apply xs:opacity-100 xs:blur-none;
  }
</style>
