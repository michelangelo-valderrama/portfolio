---
import { cn } from "@/lib/utils"

type Hsl = `${number} ${number}% ${number}%`

interface Props {
  as: string
  class?: string
  anim?: boolean
  frame?: Hsl
  fg?: Hsl
  bg?: Hsl
  pBg?: Hsl
}

const {
  as: As = "section",
  anim = false,
  frame,
  fg,
  bg,
  pBg = bg,
  pFg = fg,
  ...props
} = Astro.props

const animObj = {
  "section-ctn": true,
  "data-frame": frame,
  "data-fg": fg,
  "data-bg": bg,
  "data-p-bg": pBg,
  "data-p-fg": pFg,
}
---

<As
  {...props}
  {...anim ? animObj : {}}
  style={`--foreground: ${fg};`}
  class={cn(
    "size-full p-4 overflow-hidden snap-center rounded-2xl text-foreground",
    Astro.props.class
  )}
>
  <slot />
</As>
