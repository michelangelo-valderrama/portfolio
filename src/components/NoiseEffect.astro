<canvas
  class="z-50 absolute top-0 left-0 size-full pointer-events-none opacity-15"
  id="canvas-noise"></canvas>

<script>
  const canvas = document.getElementById("canvas-noise") as HTMLCanvasElement
  const ctx = canvas.getContext("2d")!

  resize()
  window.onresize = resize

  function resize() {
    canvas.width = window.innerWidth * window.devicePixelRatio
    canvas.height = window.innerHeight * window.devicePixelRatio
    canvas.style.width = `${window.innerWidth}px`
    canvas.style.height = `${window.innerHeight}px`
  }

  function noise(ctx: CanvasRenderingContext2D) {
    const w = ctx.canvas.width,
      h = ctx.canvas.height,
      iData = ctx.createImageData(w, h),
      buffer32 = new Uint32Array(iData.data.buffer)

    for (let i = 0; i < buffer32.length; i++) {
      if (Math.random() < 0.5) buffer32[i] = 0xffffffff
    }

    ctx.putImageData(iData, 0, 0)
  }

  ;(function loop() {
    noise(ctx)
    requestAnimationFrame(loop)
  })()
</script>
